<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
  <nz-spin [nzSpinning]="spinning">

    <div>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>法人代表姓名</nz-form-label>
        <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="larNameErrorTpl">
          <input nz-input formControlName="larName" maxlength="22" style="width: 300px;" placeholder="请输入法人代表姓名"/>
          <ng-template #larNameErrorTpl let-control>
            <ng-container *ngIf="control.hasError('required')">
              请输入法人代表姓名！
            </ng-container>
            <ng-container *ngIf="control.hasError('maxlength')">
              不能超过20个字符！
            </ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="6"nzRequired>法定代表人身份证号</nz-form-label>
          <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="larIdCardErrorTpl">
            <input nz-input formControlName="larIdCard" maxlength="22" style="width: 300px;" placeholder="请输入法定代表人身份证号"/>
            <ng-template #larIdCardErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">
                请输入法定代表人身份证号！
              </ng-container>
              <ng-container *ngIf="control.hasError('maxlength')">
                不能超过20个字符！
              </ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>营业执照</nz-form-label>
        <nz-form-control [nzSpan]="16" nzHasFeedback>
          <nz-upload
            class="avatar-uploader"
            nzName="file"
            [(nzFileList)]="fileList"
            [nzAction]="uploadAction"
            nzListType="picture-card"
            [nzShowUploadList]="true"
            [nzBeforeUpload]="beforeUpload"
            (nzChange)="handleChange($event)"
            [nzShowButton]="fileList.length < 1"
            [nzRemove]="removeFile"
            [nzPreview]="handlePreview"
          >
            <i class="upload-icon" nz-icon [nzType]="loading ? 'loading' : 'plus'"></i>
            <div class="ant-upload-text">Upload</div>
          </nz-upload>
          <nz-modal
            [nzVisible]="previewVisible"
            [nzContent]="modalContent"
            [nzFooter]="null"
            (nzOnCancel)="previewVisible = false"
          >
            <ng-template #modalContent>
              <img [src]="previewImage" [ngStyle]="{ width: '100%' }"/>
            </ng-template>
          </nz-modal>
        </nz-form-control>
      </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="6">统一社会信用代码</nz-form-label>
          <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="creditCodeErrorTpl">
            <input nz-input formControlName="creditCode" maxlength="20" style="width: 300px;" placeholder="请输入统一社会信用代码"/>
            <ng-template #creditCodeErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">
                请输入统一社会信用代码！
              </ng-container>
              <ng-container *ngIf="control.hasError('maxlength')">
                不能超过20个字符！
              </ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired>详细地址</nz-form-label>
          <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="addressErrorTpl">
        <textarea nz-input formControlName="address" maxlength="200" style="width: 300px;" placeholder="请输入详细地址"
                  [nzAutosize]="{minRows: 2,maxRows: 5}"></textarea>
            <ng-template #addressErrorTpl let-control>
              <ng-container *ngIf="control.hasError('maxlength')">
                不能超过200个字符！
              </ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired>成立日期</nz-form-label>
          <nz-form-control [nzSpan]="16" nzHasFeedback>
            <nz-date-picker
              formControlName="foundDate"
              nzPlaceHolder="成立日期">
            </nz-date-picker>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="6" nzRequired>有效日期</nz-form-label>
          <nz-form-control [nzSpan]="16" nzHasFeedback>
            <nz-date-picker
              formControlName="expireDate"
              nzPlaceHolder="有效日期">
            </nz-date-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
  </nz-spin>
</form>
<div *nzModalFooter>
  <button nz-button type="button" (click)="destroyModal()" class="button-modal-cancel">取消</button>
  <button nz-button nzType="primary"  (click)="submitForm()"  [disabled]="!validateForm.valid"  class="button-modal-submit" >提交</button>
</div>

