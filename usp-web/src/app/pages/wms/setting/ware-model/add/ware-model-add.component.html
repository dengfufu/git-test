<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)" cdkDrag cdkDragRootElement=".ant-modal">
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>型号名称</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <input nz-input formControlName="name" placeholder="请输入型号名称">
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>所属分类</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-select nz-input formControlName="catalogId" nzPlaceHolder="请选择所属分类">
        <nz-option *ngFor="let data of catalogList" [nzLabel]="data.name" [nzValue]="data.id"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>所属品牌</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-select nz-input formControlName="brandId" nzPlaceHolder="请选择所属品牌">
        <nz-option *ngFor="let data of brandList" [nzLabel]="data.name" [nzValue]="data.id"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>是否有出厂序列号</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-radio-group formControlName="haveSn">
        <label nz-radio nzValue="Y">是</label>
        <label nz-radio nzValue="N">否</label>
      </nz-radio-group>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>是否有唯一编码</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-radio-group formControlName="haveBarcode">
        <label nz-radio nzValue="Y">是</label>
        <label nz-radio nzValue="N">否</label>
      </nz-radio-group>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4">图片</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-upload
        nzListType="picture-card"
        [(nzFileList)]="fileList"
        [nzBeforeUpload]="beforeUpload"
        [nzAction]="uploadAction"
        (nzChange)="handleChange($event)"
        [nzShowButton]="true"
        [nzRemove]="removeFile"
        [nzPreview]="handlePreview"
      >
        <i class="upload-icon" nz-icon [nzType]="loading ? 'loading' : 'plus'"></i>
        <div class="ant-upload-text">Upload</div>
      </nz-upload>
      <nz-modal
        [nzVisible]="previewVisible"
        [nzContent]="modalContent"
        [nzFooter]="null"
        (nzOnCancel)="previewVisible = false"
      >
        <ng-template #modalContent>
          <img [src]="previewImage" [ngStyle]="{ width: '100%' }"/>
        </ng-template>
      </nz-modal>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4">特征描述</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <textarea nz-input formControlName="description" placeholder="请输入特征描述"
                [nzAutosize]="{minRows: 2,maxRows: 5}"></textarea>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>是否可用</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-switch formControlName="enabled" nzCheckedChildren="启用" nzUnCheckedChildren="禁用"
                 [(ngModel)]="enabledValue"></nz-switch>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-control [nzOffset]="10" [nzSpan]="12">
      <button nz-button nzType="primary" [disabled]="!validateForm.valid">提交</button>&nbsp;
      <button nz-button type="button" (click)="destroyModal()">取消</button>
    </nz-form-control>
  </nz-form-item>
</form>
