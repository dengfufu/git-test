<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">

  <nz-spin [nzSpinning]="spinning">
  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>物料名称</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback  >
      <nz-select
        style="width: 200px;"
        nzShowSearch
        nzServerSearch
        nzPlaceHolder="请选择物料名称"
        [(ngModel)]="propertySelectedValue"
        [nzShowArrow]="false"
        (ngModelChange)="changePropertyName($event)"
        formControlName="propertyNameCode"
      >
        <nz-option *ngFor="let o of propertySelectOptions" [nzLabel]="o.text" [nzValue]="o.value"> </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>规格</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback>
      <nz-select
        style="width: 200px;"
        nzShowSearch
        nzServerSearch
        nzPlaceHolder="请选择规格"
        [(ngModel)]="normsSelectedValue"
        [nzShowArrow]="false"
        formControlName="norms"
      >
        <nz-option *ngFor="let o of normsOptions" [nzLabel]="o.text" [nzValue]="o.value"> </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="4" nzRequired>型号</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">
      <nz-select
        style="width: 200px;"
        nzShowSearch
        nzServerSearch
        nzPlaceHolder="请选择型号"
        [(ngModel)]="modelSelectedValue"
        [nzShowArrow]="false"
        formControlName="model"
      >
        <nz-option *ngFor="let o of modelSelectOptions" [nzLabel]="o.text" [nzValue]="o.value"> </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="4" >物料编号</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">
      <input nz-input disabled formControlName="propertyId" maxlength="100" style="width: 400px;" placeholder="请输入物料编号" />
      <ng-template #keyErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          请输入物料编号！
        </ng-container>
        <ng-container *ngIf="control.hasError('maxlength')">
          不能超过100个字符！
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="4" >一维码</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">
      <input nz-input formControlName="barcode" maxlength="100" style="width: 400px;" placeholder="请输入物料编号" />
      <ng-template #keyErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          请输入一维码！
        </ng-container>
        <ng-container *ngIf="control.hasError('maxlength')">
          不能超过100个字符！
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="4" >物料状态</nz-form-label>
    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">
      <nz-select
        style="width: 200px;"
        nzShowSearch
        nzServerSearch
        nzPlaceHolder="请选择物料状态"
        [(ngModel)]="statusSelectedValue"
        [nzShowArrow]="false"
        formControlName="status"
      >
        <nz-option *ngFor="let o of statusOptions" [nzLabel]="o.text" [nzValue]="o.value"> </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>



    <nz-form-item>
      <nz-form-label [nzSpan]="4" >数量</nz-form-label>
      <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">
        <input nz-input type="number" formControlName="count" maxlength="100" style="width: 200px;" placeholder="请输入数量"/>
        <ng-template #keyErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            请输入联系人电话！
          </ng-container>
          <ng-container *ngIf="control.hasError('maxlength')">
            不能超过100个字符！
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>


<!--    <nz-form-item>-->
<!--      <nz-form-label [nzSpan]="4" >此单分箱号</nz-form-label>-->
<!--      <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="keyErrorTpl">-->
<!--        <input nz-input type="number" formControlName="subBoxNum" maxlength="100" style="width: 200px;" placeholder="请输入此单分箱号"/>-->
<!--        <ng-template #keyErrorTpl let-control>-->
<!--          <ng-container *ngIf="control.hasError('required')">-->
<!--            请输入此单分箱号！-->
<!--          </ng-container>-->
<!--          <ng-container *ngIf="control.hasError('maxlength')">-->
<!--            不能超过100个字符！-->
<!--          </ng-container>-->
<!--        </ng-template>-->
<!--      </nz-form-control>-->
<!--    </nz-form-item>-->

<!--  <nz-form-item>-->
<!--    <nz-form-label [nzSpan]="4" >快递单号</nz-form-label>-->
<!--    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="appErrorTpl">-->
<!--      <input nz-input   formControlName="expressNo" maxlength="100" style="width: 400px;" placeholder="请输入快递单号" />-->
<!--      <ng-template #keyErrorTpl let-control>-->
<!--        <ng-container *ngIf="control.hasError('required')">-->
<!--          请输入快递单号！-->
<!--        </ng-container>-->
<!--        <ng-container *ngIf="control.hasError('maxlength')">-->
<!--          不能超过100个字符！-->
<!--        </ng-container>-->
<!--      </ng-template>-->
<!--    </nz-form-control>-->
<!--  </nz-form-item>-->

<!--  <nz-form-item>-->
<!--    <nz-form-label [nzSpan]="4" >快递公司</nz-form-label>-->
<!--    <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="appErrorTpl">-->
<!--      <input nz-input   formControlName="companyName" maxlength="100" style="width: 400px;" placeholder="请输入快递公司" />-->
<!--      <ng-template #keyErrorTpl let-control>-->
<!--        <ng-container *ngIf="control.hasError('required')">-->
<!--          请输入快递公司！-->
<!--        </ng-container>-->
<!--        <ng-container *ngIf="control.hasError('maxlength')">-->
<!--          不能超过100个字符！-->
<!--        </ng-container>-->
<!--      </ng-template>-->
<!--    </nz-form-control>-->
<!--  </nz-form-item>-->

  <nz-form-item>
    <nz-form-control [nzOffset]="10" [nzSpan]="12">
      <button nz-button nzType="primary" [disabled]="!validateForm.valid">提交</button>&nbsp;
      <button nz-button type="button" (click)="destroyModal()">取消</button>
    </nz-form-control>
  </nz-form-item>

  </nz-spin>
</form>
