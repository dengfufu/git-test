<nz-card [nzBordered]="false">
  <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
    <nz-spin [nzSpinning]="spinning">

      <nz-form-item *ngIf="canCloseSupport">
        <nz-form-label [nzSpan]="6">是否关闭</nz-form-label>
        <nz-form-control [nzSpan]="14">
          <nz-radio-group formControlName="supportType">
            <label nz-radio nzValue="Y">开启</label>
            <label nz-radio nzValue="N">关闭</label>
          </nz-radio-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6"nzRequired>支持人员</nz-form-label>
        <nz-form-control [nzSpan]="14">
          <nz-select  nzShowSearch
                      nzAllowClear
                      nzServerSearch
                      nzFilterOption
                      formControlName="operator"
                      [nzFilterOption]="nzFilterOption"
                      nzPlaceHolder="请输入支持人员">
            <nz-option *ngFor="let data of contactUserList"
                       [nzValue]="data.value" [nzLabel]="data.text"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6"nzRequired>支持说明</nz-form-label>
        <nz-form-control nzValidateStatus="false" [nzSpan]="14" nzHasFeedback [nzErrorTip]="recordErrorTpl">
        <textarea nz-input formControlName="trackRecord" maxlength="200" style="width: 450px;" placeholder="请输入支持说明"
                  [nzAutosize]="{minRows: 5,maxRows: 8}"></textarea>
          <ng-template #recordErrorTpl let-control>
            <ng-container *ngIf="control.hasError('maxlength')">
              不能超过200个字符！
            </ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <text-area-word-number currentNumber="{{validateForm.value.trackRecord.length}}" totalCount="200"></text-area-word-number>
    </nz-spin>
  </form>
  <div *nzModalFooter>
    <button nz-button type="button" (click)="destroyModal()" class="button-modal-cancel">取消</button>
    <button nz-button nzType="primary"  (click)="submitForm(validateForm.value)"  [disabled]="!validateForm.valid"  class="button-modal-submit" >提交</button>
  </div>
</nz-card>
