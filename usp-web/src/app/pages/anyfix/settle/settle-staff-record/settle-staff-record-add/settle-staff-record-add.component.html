<form nz-form [formGroup]="addForm" style="margin-left: 0">
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="12">
      <nz-form-item nzFlex style="margin-bottom: 10px">
        <nz-form-label style="text-align: left">结算标题</nz-form-label>
        <nz-form-control nzErrorTip="请输入结算标题（最多50字符）">
          <input type="text" style="width: 400px" nz-input formControlName="recordName" placeholder="请输入结算标题（最多50字符）" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="12">
      <nz-form-item nzFlex style="margin-bottom: 10px">
        <nz-form-label style="text-align: left">结算周期</nz-form-label>
        <nz-form-control nzErrorTip="请选择结算周期">
          <nz-range-picker style="width: 400px" formControlName="settleTimeRange" [nzFormat]="'yyyy-MM-dd'"></nz-range-picker>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="12" style="text-align: right">
      <button nz-button style="margin-bottom: 5px" (click)="chooseStaff()">
        <i nz-icon nzType="plus"></i>
        <span>选择员工</span>
      </button>
    </div>
  </div>
  <nz-table
    nzBordered
    [nzShowTotal]="false"
    [nzData]="selectedStaffList"
  >
    <thead>
      <tr>
        <th>序号</th>
        <th>姓名</th>
        <th>手机号</th>
        <th>所在网点</th>
        <th>角色</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of selectedStaffList;let index = index">
      <td nzAlign="center">{{ index + 1 }}</td>
      <td>{{ data.userName }}</td>
      <td>{{ data.mobile}}</td>
      <td>{{ data.serviceBranchNames}}</td>
      <td>{{ data.roleNames }}</td>
      <td><a (click)="deleteUser(index, data.userId)">删除</a></td>
    </tr>
    </tbody>
  </nz-table>
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="12">
      <nz-form-item nzFlex style="margin-bottom: 10px;margin-top: 10px">
        <nz-form-label style="text-align: left">备注</nz-form-label>
        <nz-form-control style="width: 400px">
      <textarea
        nz-input
        placeholder="请输入备注"
        formControlName="note"
        [nzAutosize]="{ minRows: 2, maxRows: 6 }"
      ></textarea>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
  <nz-row style="text-align: center">
    <button nz-button style="margin-right: 20px" (click)="cancel()">取消</button>
    <button nz-button [nzType]="'primary'" [disabled]="!addForm.valid" (click)="addSubmit()">添加</button>
  </nz-row>
</form>
