<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
  <nz-spin [nzSpinning]="spinning">
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>客户名称</nz-form-label>
      <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="customCorpNameErrorTpl">
        <input
          style="width: 400px;"
          placeholder="请选择客户或输入一个新的客户"
          nz-input
          (input)="onCustomInput($event.target)"
          formControlName="customCorpName"
          [nzAutocomplete]="auto"/>
        <nz-autocomplete nzBackfill #auto>
          <nz-auto-option  *ngFor="let option of customCorpList" [nzLabel]="option.corpName" [nzValue]="option.corpId">
            {{ option.corpName }}
          </nz-auto-option>
        </nz-autocomplete>
        <ng-template #customCorpNameErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            请选择客户或输入一个新的客户！
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="4">详细描述</nz-form-label>
      <nz-form-control [nzSpan]="16" nzHasFeedback [nzErrorTip]="descriptionErrorTpl">
        <textarea rows="4" placeholder="请输入详细描述" nz-input formControlName="description" style="width: 400px;"
                  maxlength="100"></textarea>
        <ng-template #descriptionErrorTpl let-control>
          <ng-container *ngIf="control.hasError('maxlength')">
            不能超过100个字符！
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="4">是否可用</nz-form-label>
      <nz-form-control [nzSpan]="16">
        <nz-switch formControlName="enabled" nzCheckedChildren="是" nzUnCheckedChildren="否"></nz-switch>
      </nz-form-control>
    </nz-form-item>
  </nz-spin>
</form>
<div *nzModalFooter>
  <button nz-button type="button" (click)="destroyModal()" class="button-modal-cancel">取消</button>
  <button nz-button nzType="primary"  (click)="submitForm(validateForm.value)" [disabled]="!validateForm.valid" class="button-modal-submit" >提交</button>
</div>
