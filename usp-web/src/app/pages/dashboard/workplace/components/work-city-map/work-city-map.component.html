<nz-card nzTitle="工单地区分布{{ workTotalCount >0 ? '('+ workTotalCount+')':'' }}"
         style="margin-bottom: 0px"
         [nzBordered]="false"
         [nzExtra]="extraTemplate"
         [nzBodyStyle]="{padding:'6px',height: '350px'}">
  <nz-spin [nzSpinning]="isLoading" style="position: absolute;top: 55%;left: 50%;"></nz-spin>
  <div class="content-flex-center" *ngIf="isEmptyData">
    <nz-embed-empty nzComponentName="normal"></nz-embed-empty>
  </div>
  <div *ngIf="!isEmptyData" style="width: 100%;height: 100%">
    <div nz-row style="width: 100%;height: 100%" [nzJustify]="'center'">
      <div nz-col [nzSpan]="18" style="height: 100%">
        <div echarts [options]="chartOption" style="width:100%;height: 100%" [theme]="'usp'"></div>
      </div>
      <div nz-col [nzSpan]="6" style="height: 100%">
        <div class="content-flex-center" style="padding: 16px">
          <div style="height: 277px;width: 100%;;overflow: auto">
            <nz-table #basicTable [nzData]="cityData" [nzFrontPagination]="false">
              <thead>
              <tr>
                <th>省份</th>
                <th>总数</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let data of basicTable.data">
                <td>{{ data.name }}</td>
                <td>{{ data.value }}</td>
              </tr>
              </tbody>
            </nz-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</nz-card>
<ng-template #extraTemplate>
  <nz-range-picker nzSize="small"
                   [nzRanges]="rangeDates"
                   [(ngModel)]="rangeDate"
                   (ngModelChange)="dateRangeChange($event)">
  </nz-range-picker>
</ng-template>

